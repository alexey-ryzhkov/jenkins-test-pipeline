pipeline{
    agent any
    stages{
        stage("Checking hostname on master"){
            agent {
                label "master"
            }
            steps{
                sh "hostname"
            }
        }
        stage("Testing paralel jobs"){
            parallel {
                stage("First command"){
                    sh "echo test > test.txt"
                }
                stage("Second command"){
                    sh "cat test.txt"
                }
                stage("Third command"){
                    sh "date"
                }
            }
        }
        stage("Checking hostname on node"){
            agent {
                label "linux"
            }
            steps {
                sh "hostname"
            }
        }
    }
}