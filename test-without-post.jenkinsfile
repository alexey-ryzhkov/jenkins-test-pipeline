pipeline{
    agent any
    stages{
        stage("Checking hostname on master"){
            agent {
                label "master"
            }
            steps{
                sh "hostname"
            }
        }
        stage("Testing paralel jobs"){
            failFast false
            parallel {
                stage("First command"){
                    steps {
                    sh "echo test > test.txt"
                    sh "sleep 20"
                    }
                }
                stage("Second command"){
                    steps {
                        catchError(buildResult: 'SUCCESS', stageResult: 'FAILURE'){
                        sh "cat test12312323.txt"
                        }
                    }
                }
                stage("Third command"){
                    steps {
                    sh "date"
                    sh "sleep 20"
                    }
                }
            }
        }
        stage("Checking hostname on node"){
            agent {
                label "linux"
            }
            steps {
                sh "hostname"
            }
        }
    }
}